#!/bin/bash

echo "Quel sera le nom de votre projet?"
read nom_projet

# Appel au script Python pour sélectionner le dossier et récupérer la variable
chemin=$(python3 /emplacement/du/script/python		)

curl -H "Authorization: token <Your_Token>" -d "{\"name\":\"$nom_projet\"}" https://api.github.com/user/repos


# Clone le projet GitHub en utilisant l'origine "test"
git clone --origin template git@github.com:username/lien_du_template.git "$chemin/$nom_projet"


cd "$chemin/$nom_projet"
ls

# Remplace l'URL origin actuelle par la variable donnée en argument
git remote set-url template git@github.com:username/"$nom_projet".git
git remote -v

# Récupère les dernières modifications du remote
git pull origin main --allow-unrelated-histories

git add .
git commit -m "start"
git push

# Clone le projet GitHub en utilisant l'origine "template"
echo  "$chemin" 


idea64.exe "$chemin/$nom_projet"

